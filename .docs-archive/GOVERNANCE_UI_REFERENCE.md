# Governance System - UI Reference Guide

## Community Creation Flow

### Before (Old)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create a New Community      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name:        [____________] â”‚
â”‚ Ideology:    [____________] â”‚
â”‚ Color:       [â–ˆâ–ˆ]           â”‚
â”‚ Description: [____________] â”‚
â”‚                             â”‚
â”‚         [Create & Join]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After (New - With Governance Type Selection)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create a New Community      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name:        [____________] â”‚
â”‚ Ideology:    [____________] â”‚
â”‚ Color:       [â–ˆâ–ˆ]           â”‚
â”‚ Description: [____________] â”‚
â”‚                             â”‚
â”‚ Governance Type:            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘‘   â”‚ â”‚  âš–ï¸  â”‚ â”‚  âš¡  â”‚ â”‚
â”‚ â”‚Kingdomâ”‚ â”‚Democâ”‚ â”‚Dictatâ”‚ â”‚
â”‚ â”‚[âœ“]   â”‚ â”‚[X]   â”‚ â”‚[X]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  (Active)  (Disabled)      â”‚
â”‚                             â”‚
â”‚  More governance types      â”‚
â”‚  coming soon.               â”‚
â”‚                             â”‚
â”‚         [Create & Join]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Governance Hierarchy View

### Sovereign Section (Empty - Vacant Throne)

#### Before (Old)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  King/Queen                â”‚
â”‚ [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] â”‚
â”‚ â•                          â•
â”‚ â•  No Sovereign            â•
â”‚ â•  The throne is vacant    â•
â”‚ â•                          â•
â”‚ â•                          â•
â”‚ â•  [The throne awaits...]  â•
â”‚ â•  [Claim the Throne]      â•
â”‚ â•                          â•
â”‚ â•                          â•
â”‚ â•                          â•
â”‚ â•                          â•
â”‚ [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### After (New - Prominent Button)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘‘ King/Queen             â”‚
â”‚ [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] â”‚
â”‚ â•                          â•
â”‚ â•  No King/Queen           â•
â”‚ â•  The throne is vacant    â•
â”‚ â•                          â•
â”‚ â• â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•
â”‚ â• â”‚ ğŸ‘‘ CLAIM THE THRONE  â”‚ â•
â”‚ â• â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•
â”‚ â•                          â•
â”‚ [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Sovereign Section (Filled)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘‘ King/Queen             â”‚
â”‚ [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] â”‚
â”‚ â•                          â•
â”‚ â•       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”         â•
â”‚ â•       â”‚ Avatar â”‚         â•
â”‚ â•       â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â•
â”‚ â•     AlexGaming            â•
â”‚ â•    King/Queen             â•
â”‚ â•                          â•
â”‚ [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Secretary Slots Section

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ Secretary              â”‚
â”‚ [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”â”‚
â”‚ â”‚ Avatar â”‚ â”‚ Avatar â”‚ â”‚ + â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”˜â”‚
â”‚  JaneDev   MikeMod        â”‚
â”‚ Secretary  Secretary       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Points:**
- Shows 3 slots (monarchy maxCount: 3)
- Filled slots show member avatar + name
- Empty slots show "+" button (if user is sovereign)
- Empty slots show placeholder "+" (if user is not sovereign)

---

## Members Drawer (Complete)

### Before (Old - Role-Based)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Community Members      [X]  â”‚
â”‚ 42 Members â€¢ Gaming Guild   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚ ğŸ‘‘ LEADERSHIP (2)          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â AlexGaming             â”‚
â”‚  â JaneDev                â”‚
â”‚                            â”‚
â”‚ ğŸ‘¤ MEMBERS (40)            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â MikeMod                â”‚
â”‚  â SarahGamer             â”‚
â”‚  â TomCoder                â”‚
â”‚   ... (37 more)            â”‚
â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After (New - Governance Rank-Based)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Community Members      [X]  â”‚
â”‚ 42 Members â€¢ Gaming Guild   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚ ğŸ‘‘ KING/QUEEN (1)          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â AlexGaming             â”‚
â”‚                            â”‚
â”‚ ğŸ”§ SECRETARY (2)           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â JaneDev                â”‚
â”‚  â MikeMod                â”‚
â”‚                            â”‚
â”‚ ğŸ‘¤ MEMBERS (39)            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â SarahGamer             â”‚
â”‚  â TomCoder                â”‚
â”‚  â LisaCoder               â”‚
â”‚   ... (36 more)            â”‚
â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Changes:**
- "Leadership" â†’ "King/Queen" / "Secretary" (based on governance)
- Sorted by rank_tier
- Icons match governance config:
  - ğŸ‘‘ (amber) for rank 0
  - ğŸ”§ (blue) for rank 1
  - ğŸ‘¤ (grey) for other ranks
- Count badges accurate per rank

---

## Governance Type Selection Details

### Kingdom (Enabled)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ‘‘   â”‚  â† Crown icon
â”‚ Kingdomâ”‚  â† Label
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Bright border (primary color)
  Solid background
  Clickable/interactive
  Status: ACTIVE
```

### Democracy (Disabled)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âš–ï¸   â”‚  â† Scales icon
â”‚Democra-â”‚  â† Label (fits 3 cols)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Faint border (border/30)
  Muted background
  Opacity 50%
  Cursor: not-allowed
  Status: COMING SOON
```

### Dictatorship (Disabled)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âš¡   â”‚  â† Lightning icon
â”‚Dictato-â”‚  â† Label (fits 3 cols)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Faint border (border/30)
  Muted background
  Opacity 50%
  Cursor: not-allowed
  Status: COMING SOON
```

---

## Governance Config Mapping

### Kingdom (Monarchy)
```typescript
{
  name: "Monarchy",
  label: "Kingdom",
  description: "Ruled by a single sovereign with appointed advisors"

  Rank 0: King/Queen (ğŸ‘‘)
    - maxCount: 1
    - permissions: assign ranks

  Rank 1: Secretary (ğŸ”§)
    - maxCount: 3
    - permissions: none (advisory only)
}
```

### Democracy (Future)
```typescript
{
  name: "Democracy",
  label: "Republic",
  description: "Governed by elected representatives"

  Rank 0: Senator (âš–ï¸)
    - maxCount: 10
    - permissions: assign ranks
}
```

### Dictatorship (Future)
```typescript
{
  name: "Dictatorship",
  label: "Regime",
  description: "Absolute rule by the leader"

  Rank 0: Dictator (âš¡)
    - maxCount: 1
    - permissions: all administrative actions
}
```

---

## State Transitions

### Sovereign State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  No Sovereign    â”‚  â† Community starts here
â”‚  (vacant throne) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Any member claims
         â”‚ claimThroneAction()
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  With Sovereign  â”‚  â† Claim button disappears
â”‚  (ruled)         â”‚  â† Sovereign can assign ranks
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Rank Assignment
```
Sovereign can assign members to:
  - Rank 0 (but only if vacant - handled by DB constraint)
  - Rank 1 (up to 3)

Cannot assign rank 10 (members default to this)
```

---

## Responsive Design Notes

### Mobile (< 640px)
- Governance type selector stays as 3 buttons in row
- Buttons may have smaller padding
- Names wrap if needed
- Sovereign section increases min-height for tap target
- Secretary slots may stack (but should stay 3-wide for visibility)

### Tablet (640px - 1024px)
- All elements scale properly
- Governance selector maintains 3-column grid
- Secretary slots show well
- Member drawer full-width

### Desktop (> 1024px)
- Full spacious layout
- All elements properly spaced
- Good visual hierarchy

---

## Copy/Text References

### Create Form
```
"Governance Type"
"More governance types coming soon."
```

### Governance Hierarchy
```
"No King/Queen"
"The throne is vacant"
"CLAIM THE THRONE"
```

### Member Drawer
```
"KING/QUEEN (1)"
"SECRETARY (3)"
"MEMBERS (39)"
```

---

## Color/Icon Reference

| Element | Icon | Color | Meaning |
|---------|------|-------|---------|
| Sovereign | ğŸ‘‘ | Amber | Authority |
| Secretary | ğŸ”§ | Blue | Support/Admin |
| Member | ğŸ‘¤ | Grey | Regular |
| Kingdom | ğŸ‘‘ | Primary | Active governance |
| Democracy | âš–ï¸ | Muted | Disabled (coming) |
| Dictatorship | âš¡ | Muted | Disabled (coming) |

---

## Interaction Points

### User Actions
1. **Claim Throne** - Click prominent button
   - Available: Only when no sovereign exists
   - Effect: Becomes rank_tier = 0

2. **Assign Secretary** - Click "+" in secretary slot
   - Available: Only if user is sovereign
   - Effect: Opens member picker

3. **View Members** - Click member drawer button
   - Shows full member list sorted by rank
   - Can click member to visit profile

4. **Select Governance** - Click governance type button
   - Only Kingdom is clickable
   - Democracy/Dictatorship disabled

---

## Future Enhancements

When enabling Democracy or Dictatorship:
1. Remove `disabled` attribute from button
2. Remove `opacity-50` class
3. Change `cursor-not-allowed` to pointer
4. Add governance config to `lib/governance.ts`
5. Update `create-community-form.tsx` enabled button logic

No other changes needed - system is already prepared!
